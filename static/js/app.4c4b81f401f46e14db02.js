webpackJsonp([0],[,,,,function(t,e,n){var a=n(2)(n(10),n(16),null,null,null);t.exports=a.exports},function(t,e,n){"use strict";var a=n(3),i=n(20),s=n(4),r=n.n(s);a.a.use(i.a),e.a=new i.a({routes:[{path:"/",name:"Player",component:r.a}]})},function(t,e,n){function a(t){n(13)}var i=n(2)(n(8),n(19),a,"data-v-b2cf064a",null);t.exports=i.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var a=n(3),i=n(15),s=n.n(i),r=n(14),o=n.n(r),c=n(4),l=n.n(c);window.bus=new a.a,e.default={name:"App",components:{Search:s.a,Lrc:o.a,Player:l.a},mounted:function(){function e(){var e=parseFloat(t(window).height());t(".main-container").height(e-75)}e(),t(window).resize(e)}}}.call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function a(e,n,a){var i=t(".lrc").empty().css("margin-top",a),s=window.loadLrc(i[0],function(){return n});s.fix=38,window.activeAudio(e,s)}var i=n(23);n.n(i);e.default={name:"Lrc",data:function(){return{name:"《初学者》",album:"/static/img/mt1.jpg"}},mounted:function(){window.lrcCtrl.active=function(e){t(e).addClass("active")},window.lrcCtrl.normal=function(e){t(e).removeClass("active")};var e=t(".lrc").css("margin-top"),n=this,i=n.$parent.$refs.player.$refs.audio;window.bus.$on("lyric",function(t,s){t.albumname?n.name=t.albumname:n.name="《初学者》",t.albumpic_small?n.album=t.albumpic_small:n.album="/static/img/mt1.jpg",a(i,s,e)})}}}.call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,a){function i(t,e){var n=(""+t).length;return Array(e>n?e-n+1||0:0).join(0)+t}function s(t){var t=Math.floor(t);return Math.floor(t/60)+":"+i(t%60,2)}function r(t){var e=document.createElement("div");e.innerHTML=t;var n=e.innerText||e.textContent;return e=null,n}var o=n(22);n.n(o);e.default={name:"Player",data:function(){return{muteClass:"voice-button",playClass:"play-button",playTitle:"暂停[空格]",songname:"",singer:"",current:0,duration:0,src:""}},computed:{totalTime:function(){return s(this.duration)},currentTime:function(){return s(this.current)}},methods:{onDuration:function(t){this.duration=t.target.duration},onTime:function(e){var n=e.target,a=n.currentTime;this.current=a;var i=n.currentTime/n.duration,s=t("#progressToggler");if(!s.data("mDown")){var r=s.parent(),o=r.width()*i;s.css({left:o})}},onDrag:function(t){var e=this.$refs.audio,n=t*e.duration;e.currentTime=n,e.paused&&e.play()},onVolume:function(t){var e=this.$refs.audio;e.volume=t,e.muted&&(e.muted=!1,this.muteClass="voice-button")},playPause:function(){var t=this.$refs.audio;""!=t.src&&(t.paused?(this.playClass="play-button",this.playTitle="暂停[空格]",t.play()):(this.playClass="pause-button",this.playTitle="播放[空格]",t.pause()))},mute:function(){var t=this.$refs.audio;t.muted?(t.muted=!1,this.muteClass="voice-button"):(t.muted=!0,this.muteClass="mute-button")}},mounted:function(){var e=this;t("#progressToggler").dragging({move:"x",randomPosition:!1},function(t){e.onDrag(t)}),t(".vol-handler").dragging({move:"x",randomPosition:!1},function(t){e.onVolume(t)}),t(".vol-handler").css("left","75px"),window.addEventListener("keyup",function(t){32==t.keyCode&&e.playPause()}),window.bus.$on("playMusic",function(n){e.songname=n.songname,e.singer=n.singername,e.src=n.m4a,t.post("http://route.showapi.com/213-2",{showapi_appid:a.appid,showapi_sign:a.sign,musicid:n.songid},function(t){if(0==t.showapi_res_code){var e=r(t.showapi_res_body.lyric);console.log(e),window.bus.$emit("lyric",n,e)}else console.error(t.showapi_res_error)})})}}}.call(e,n(0),n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,n){e.default={name:"Search",data:function(){return{keys:["薛之谦","林忆莲","李宗盛","五月天","梁静茹","莫文蔚","陈梓童","刚好遇见你","周杰伦","张杰","漂洋过海来看你","三生三世","女儿情"],songs:[]}},methods:{search:function(e){var a=this;t.post("http://route.showapi.com/213-1",{showapi_appid:n.appid,showapi_sign:n.sign,keyword:e},function(t){0==t.showapi_res_code?a.songs=t.showapi_res_body.pagebean.contentlist:console.error(t.showapi_res_error)})},play:function(t){window.bus.$emit("playMusic",t)},keyup:function(e){var n=t("#searchText").val();13==e.keyCode&&""!=n&&this.search(n)},searchBtn:function(e){var n=t("#searchText").val();""!=n&&this.search(n)}},mounted:function(){this.search("命运石之门")}}}.call(e,n(0),n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=n(3),a=n(6),i=n.n(a),s=n(5),r=n(7);t.appid=39367,t.sign="c4528d67e59a46b5a201a9c74c8b7b05",e.a.config.productionTip=!1,e.a.use(r.a),new e.a({el:"#app",router:s.a,template:"<App/>",components:{App:i.a}})}.call(e,n(1))},function(t,e){},function(t,e,n){var a=n(2)(n(9),n(17),null,null,null);t.exports=a.exports},function(t,e,n){var a=n(2)(n(11),n(18),null,null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("audio",{ref:"audio",attrs:{src:t.src,autoplay:"autoplay"},on:{durationchange:t.onDuration,timeupdate:t.onTime}}),t._v(" "),n("div",{staticClass:"left-panel"},[n("ul",{staticClass:"play-btn"},[t._m(0),t._v(" "),n("li",{staticClass:"play wg-button stop"},[n("a",{class:t.playClass,attrs:{id:"playBtn",hidefocus:"true",title:t.playTitle},on:{click:t.playPause}})]),t._v(" "),t._m(1)])]),t._v(" "),n("div",{staticClass:"right-panel"},[t._m(2),t._v(" "),n("div",{staticClass:"volume"},[n("a",{staticClass:"wg-button",class:t.muteClass,attrs:{id:"volumeBtn",hidefocus:"true",title:"静音",href:"javascript:;"},on:{click:t.mute}}),t._v(" "),t._m(3)]),t._v(" "),n("div",{staticClass:"hq"})]),t._v(" "),n("div",{staticClass:"main-panel"},[n("div",{staticClass:"title-wrapper",attrs:{id:"playTitle"}},[n("div",{staticClass:"title-container"},[n("div",{staticClass:"title"},[n("marquee",{directives:[{name:"show",rawName:"v-show",value:""!=t.songname&&""!=t.singer,expression:" songname != '' && singer != ''"}],attrs:{scrollamount:"5",scrolldelay:"100",direction:"left",id:"scroll"}},[n("span",{staticClass:"songname",attrs:{href:"javacript:;"}},[t._v(t._s(t.songname))]),t._v(" "),n("span",{staticClass:"split",attrs:{href:"javacript:;"}},[t._v("-")]),t._v(" "),n("span",{staticClass:"singer",attrs:{href:"javacript:;"}},[t._v(t._s(t.singer))])])],1)])]),t._v(" "),n("div",{staticClass:"pane"},[n("div",{staticClass:"time",attrs:{id:"timeWrap"}},[n("span",{staticClass:"currentTime"},[t._v(t._s(t.currentTime))]),t._v(" "),n("span",{staticClass:"split"},[t._v("/")]),t._v(" "),n("span",{staticClass:"totalTime"},[t._v(t._s(t.totalTime))])]),t._v(" "),t._m(4)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"prev"},[n("a",{staticClass:"prev-button wg-button",attrs:{hidefocus:"true",title:"上一首[←]"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"next"},[n("a",{staticClass:"next-button wg-button",attrs:{hidefocus:"true",title:"上一首[←]"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"playmod"},[n("li",{staticClass:"random-mode"},[n("a",{staticClass:"wg-button",attrs:{href:"javascript:;",hidefocus:"true",title:"随机播放"}})]),t._v(" "),n("li",{staticClass:"single-mode"},[n("a",{staticClass:"wg-button",attrs:{hidefocus:"true",title:"单曲播放",href:"javascript:;"}})]),t._v(" "),n("li",{staticClass:"list-mode"},[n("a",{staticClass:"wg-button",attrs:{hidefocus:"true",title:"循环播放",href:"javascript:;"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vol-wrapper"},[n("div",{staticClass:"vol-slider"},[n("a",{staticClass:"vol-handler",attrs:{href:"javascript:;",hidefocus:"true"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-wrapper"},[n("div",{attrs:{id:"progressSlider"}},[n("a",{staticClass:"pointer",attrs:{href:"javascript:;",hidefocus:"true",id:"progressToggler"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right-container"},[n("div",{staticClass:"header"},[n("img",{staticClass:"album",attrs:{src:t.album}}),t._v(" "),n("a",{staticClass:"album-name"},[t._v(t._s(t.name))])]),t._v(" "),n("div",{staticClass:"album-split"}),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lrc-container"},[n("div",{staticClass:"lrc",staticStyle:{"margin-top":"80px"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-container"},[n("div",{staticClass:"top-bar"},[n("div",{staticClass:"searcher"},[n("div",{staticClass:"searcher-container"},[n("input",{staticClass:"searcher-input",attrs:{type:"text",id:"searchText",placeholder:"输入歌曲、歌手、专辑名"},on:{keyup:t.keyup}})]),t._v(" "),n("span",{staticClass:"searcher-btn",on:{click:t.searchBtn}})]),t._v(" "),n("div",{staticClass:"top-key"},[n("ul",{staticClass:"keys"},t._l(t.keys,function(e){return n("li",[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(n){t.search(e)}}},[t._v(t._s(e))])])}))])]),t._v(" "),n("table",{staticClass:"main-table"},[t._m(0),t._v(" "),n("tbody",{attrs:{id:"musics"}},t._l(t.songs,function(e){return n("tr",{staticClass:"music-row",on:{click:function(n){t.play(e)}}},[n("td",[n("a",{staticClass:"key",attrs:{href:"javascript:;"},on:{click:function(n){n.stopPropagation(),t.search(e.singername)}}},[t._v(t._s(e.singername))])]),t._v(" "),n("td",[n("a",{staticClass:"key",attrs:{href:"javascript:;"},on:{click:function(n){n.stopPropagation(),t.search(e.songname)}}},[t._v(t._s(e.songname))])]),t._v(" "),n("td",[n("a",{staticClass:"key",attrs:{href:"javascript:;"},on:{click:function(n){n.stopPropagation(),t.search(e.albumname)}}},[t._v(t._s(e.albumname))])]),t._v(" "),n("td"),t._v(" "),n("td",[n("a",{staticClass:"download-btn",attrs:{href:e.m4a,target:"_blank",hideFocus:"true",title:"下载"},on:{click:function(t){t.stopPropagation()}}})])])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"c0",staticStyle:{width:"23%"}},[t._v("歌手")]),t._v(" "),n("th",{staticClass:"c1",staticStyle:{width:"23%"}},[t._v("歌曲")]),t._v(" "),n("th",{staticClass:"c2",staticStyle:{width:"23%"}},[t._v("专辑")]),t._v(" "),n("th",{staticClass:"c3",staticStyle:{width:"18%"}},[t._v("时长")]),t._v(" "),n("th",{staticClass:"c4",staticStyle:{width:"13%"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"main-container"},[n("Search",{ref:"search"}),t._v(" "),n("Lrc")],1),t._v(" "),n("Player",{ref:"player"})],1)},staticRenderFns:[]}},,,function(t,e,n){(function(t){!function(t){function e(t,e){var n=parseFloat(t.css("left")),a=e.width(),i=n/a;return i<0?0:i>1?1:n/a}function n(){var n=t(this);return e(n,n.parent())}var a=function(n,a){var i,s,r,o,c=t(this),l=c.parent(),u={move:"both",randomPosition:!0,hander:1,click:!0},f=t.extend({},u,n),p=f.move,d=f.randomPosition,h=f.hander;h=1==h?c:c.find(f.hander),l.css({position:"relative"}),c.css({position:"absolute"});var v,m,g,y,_=l.width()+c.width(),C=l.height(),w=c.width()+parseInt(c.css("padding-left"))+parseInt(c.css("padding-right")),b=c.height()+parseInt(c.css("padding-top"))+parseInt(c.css("padding-bottom")),x=!1;d&&function(){c.each(function(e){var n=parseInt(Math.random()*(C-b)),a=parseInt(Math.random()*(_-w));"x"==p.toLowerCase()?t(this).css({left:a}):"y"==p.toLowerCase()?t(this).css({top:n}):"both"==p.toLowerCase()&&t(this).css({top:n,left:a})})}(),h.mousedown(function(t){return l.children().css({zIndex:"0"}),x=!0,c.data("mDown",x),r=t.pageX,o=t.pageY,v=c.position().left,m=c.position().top,!1}),t(document).mouseup(function(t){x=!1,c.data("mDown",x)}),t(document).mousemove(function(t){i=t.pageX,g=v+i-r,s=t.pageY,y=m+s-o,"x"==p.toLowerCase()?function(){if(1==x)c.css({left:g}),g<0&&c.css({left:"0"}),g>_-w&&c.css({left:_-w}),0==x&&"function"==typeof a&&a(e(c,l))}():"y"==p.toLowerCase()?function(){if(1==x)c.css({top:y}),y<0&&c.css({top:"0"}),y>C-b&&c.css({top:C-b}),0==x&&"function"==typeof a&&a(e(c,l))}():"both"==p.toLowerCase()&&function(){1==x&&(c.css({left:g,top:y}),g<0&&c.css({left:"0"}),g>_-w&&c.css({left:_-w}),y<0&&c.css({top:"0"}),y>C-b&&c.css({top:C-b}))}()}),f.click&&l.click(function(n){var i=n.clientX-t(this).offset().left+1.5;c.css("left",i),"function"==typeof a&&a(e(c,l)),n.preventDefault()})};t.fn.extend({dragging:a,dragPercent:n})}(t)}).call(e,n(0))},function(t,e){!function(t,e,n){function a(t,e){this.audio=t,this.lrc=e.dom.getElementsByTagName("p"),this.dom=e.dom,this.current=0,this.currentTime=0,this.options=u.extend(p,f),e.offset!=n&&(this.options.offset=e.offset),e.fix!=n&&(this.options.fix=e.fix),null==this.options.initMargin&&(this.options.initMargin=parseInt(u(this.dom).css("marginTop"))),this.lrcobj=e}function i(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.push(("v="+Math.random()).replace(".","")),e.join("&")}function s(t){for(var e=t.split("\n"),n=/\[\d{2}:\d{2}.\d{2}\]/g,a=[];!n.test(e[0]);)e=e.slice(1);return 0===e[e.length-1].length&&e.pop(),e.forEach(function(t,e,i){var s=t.match(n),r=t.replace(n,"");null!=s&&s.forEach(function(t,e,n){var i=t.slice(1,-1).split(":");a.push([60*parseInt(i[0],10)+parseFloat(i[1]),r])})}),a.sort(function(t,e){return t[0]-e[0]}),a}function r(t,e){return t>e||Math.abs(t-e)<=.5}function o(t,e,n){this.dom=t,"function"==typeof e&&(t.ontimeupdate=function(){e(this.currentTime)}),"function"==typeof n&&(t.onseeked=function(){n(this.currentTime)})}function c(e,n,a){if("object"!=typeof t.audiojs&&"object"!=typeof t.audiojs.events)throw new ReferenceError("audiojs is not correctly defined!");audiojs.events.ready(function(){var t=audiojs.create(e,{updatePlayhead:function(e){"function"==typeof n&&n(t.duration*e)},skipTo:function(e){"function"==typeof a&&a(t.duration*e)}})})}var l=function(t){return new l.fn.init(t)};l.fn=l.prototype={init:function(t){this.dom=t},css:function(e){var n=this.dom;return void 0!==t.getComputedStyle?t.getComputedStyle(n,null)[e]:n.currentStyle[e]},data:function(t,e){var a=this.dom;if(a.dataset)return e==n?a.dataset[t]:a.dataset[t]=e;var i="data-"+t;return e==n?a.getAttribute(i):a.setAttribute(i,e)},extend:function(t,e){for(name in e)t[name]=e[name];return t}},l.fn.init.prototype=l.fn,l.extend=l.fn.extend,l.get=function(e,n,a){if(void 0!==a&&"function"!=typeof a)throw new TypeError(a+" is not a function");var s=t.XMLHttpRequest?new t.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r=e;if(void 0!==n){r=r+"?"+i(n)}s.open("GET",r,!0),s.onreadystatechange=function(){if(4==s.readyState){var t=s.status;t>=200&&t<300&&a(s.responseText,t,s)}},s.send()};var u=t.jQuery?t.jQuery:l;t.jQuery&&u.fn.extend({loadLrc:function(e){return t.loadLrc(this[0],e)},activeAudio:function(e){return t.activeAudio(this[0],e)},lrc:function(e,n){var a=t.loadLrc(this[0],e),i=u(n);t.activeAudio(i[0],a)}});var f=t.lrcCtrl={},p={active:function(t){t.style.fontWeight="700"},normal:function(t){t.style.fontWeight="normal"},fix:28,initMargin:null,offset:0};f.active=function(t){t.style.fontWeight="700"},f.normal=function(t){t.style.fontWeight="normal"},u.lrcCtrl=t.lrcCtrl;t.lrcFix=28;a.prototype.active=function(t){"function"==typeof this.lrcobj.active?this.lrcobj.active(t):"function"==typeof f.active&&f.active(t)},a.prototype.normal=function(t){"function"==typeof this.lrcobj.normal?this.lrcobj.normal(t):"function"==typeof f.normal&&f.normal(t)},a.prototype.timeChanged=function(t){if(this.current!=this.lrc.length){r(t,parseFloat(u(this.lrc[this.current]).data("time"))+this.options.offset)&&(this.moveNext(),this.current++)}},a.prototype.moveNext=function(){var t=parseInt(u(this.dom).css("marginTop"));this.current>0&&this.normal(this.lrc[this.current-1]),this.active(this.lrc[this.current]),this.dom.style.marginTop=t-this.options.fix+"px"},a.prototype.toggle=function(t){for(var e=-1,n=this.lrc.length-1;n>=0;n--){var a=parseFloat(u(this.lrc[n]).data("time"))+this.options.offset;e<0&&r(t,a)&&(e=n),this.normal(this.lrc[n])}if(e<this.lrc.length&&e>0){var i=this.options.initMargin-this.options.fix*e;this.dom.style.marginTop=i+"px",this.current=e}},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,a=0;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),s=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e);a<s;){var r;a in i&&(r=i[a],t.call(n,r,a,i)),a++}});t.loadLrcArray=function(t,n){this.dom=t;for(var a=s(n),i=0;i<a.length;i++){var r=a[i],o=e.createElement("p");u(o).data("time",r[0]),o.innerHTML=r[1],o.style.overflow="hidden",t.appendChild(o)}return this},t.loadLrc=function(t,a){if(this.dom=t,"function"==typeof a)for(var i=a(),r=s(i),o=0;o<r.length;o++){var c=r[o],l=e.createElement("p");""!=c[1]&&(u(l).data("time",c[0]),l.innerHTML=c[1],l.style.overflow="hidden",t.appendChild(l))}else u.get(a,n,function(n){for(var a=s(n),i=0;i<a.length;i++){var r=a[i],o=e.createElement("p");u(o).data("time",r[0]),o.innerHTML=r[1],o.style.overflow="hidden",t.appendChild(o)}});return this},t.activeAudio=function(e,n){var i=new a(e,n);(t.Audio?o:c)(e,function(t){i.timeChanged(t)},function(t){i.toggle(t)})}}(window,window.document)},function(t,e){}],[12]);
//# sourceMappingURL=app.4c4b81f401f46e14db02.js.map